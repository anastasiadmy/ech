<!DOCTYPE html>
<html>
<head>
<title>Cardiac Calculators</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {
  font-family: sans-serif;
  padding: 20px;
}
.calculator {
  border: 1px solid #ccc;
  padding: 15px;
  margin-bottom: 20px;
}
label {
  display: block;
  margin-bottom: 5px;
}
input[type="number"] {
  width: 100%;
  padding: 5px;
  margin-bottom: 10px;
  box-sizing: border-box;
}
button {
  padding: 8px 15px;
  background-color: #4CAF50;
  color: white;
  border: none;
  cursor: pointer;
  margin-top: 10px;
}
#results {
  margin-top: 20px;
}

@media (min-width: 768px) {
  .calculator {
    width: 45%; /* Adjust as needed for side-by-side layout */
    float: left;
    margin-right: 20px;
  }
    input[type="number"] {
        width: 150px;
    }
}
</style>
</head>
<body>

<h1>Cardiac Calculators</h1>

<div class="calculator">
  <h2>BSA Calculator</h2>
  <label for="height">Height (cm):</label>
  <input type="number" id="height" >
  <label for="weight">Weight (kg):</label>
  <input type="number" id="weight" >
  <p>BSA (m²): <span id="bsa"></span></p>
</div>

<div class="calculator">
  <h2>LV Mass & RWT</h2>
  <label for="ivs">IVS (mm):</label>
  <input type="number" id="ivs" >
  <label for="lvedd_lv">LVEDD (mm):</label>
  <input type="number" id="lvedd_lv" >
  <label for="pw">PW (mm):</label>
  <input type="number" id="pw" >
  <p>LV Mass (g): <span id="lvmass"></span></p>
  <p>LV Mass Index (g/m²): <span id="lvmassindex"></span></p>
  <p>RWT: <span id="rwt"></span></p>
</div>

<div class="calculator">
  <h2>ESV, EDV, EF (Teichholz)</h2>
  <label for="lvedd_teich">LVEDD (mm):</label>
  <input type="number" id="lvedd_teich" >
  <label for="lvesd_teich">LVESD (mm):</label>
  <input type="number" id="lvesd_teich" >
  <p>EDV (ml): <span id="edv_teich"></span></p>
  <p>ESV (ml): <span id="esv_teich"></span></p>
  <p>EF (%): <span id="ef_teich"></span></p>
</div>

<div class="calculator">
  <h2>Ejection Fraction (Simpson's)</h2>
  <label for="edv_simpson">EDV (ml):</label>
  <input type="number" id="edv_simpson" >
  <label for="esv_simpson">ESV (ml):</label>
  <input type="number" id="esv_simpson" >
  <p>EF (%): <span id="ef_simpson"></span></p>
</div>

<div class="calculator">
  <h2>LAVI</h2>
  <label for="la_volume">LA Volume (ml):</label>
  <input type="number" id="la_volume" >
  <p>LAVI (ml/m²): <span id="lavi"></span></p>
</div>

<button onclick="calculateAll()">Calculate All</button>

<script>
function calculateBSA() {
  const height = parseFloat(document.getElementById("height").value);
  const weight = parseFloat(document.getElementById("weight").value);
  if (isNaN(height) || isNaN(weight) || height <= 0 || weight <= 0) return; // Basic input validation
  const bsa = Math.sqrt((height * weight) / 3600);
  document.getElementById("bsa").textContent = bsa.toFixed(2);
  return bsa;
}

function calculateLVMassAndRWT() {
  const ivs = parseFloat(document.getElementById("ivs").value);
  const lvedd = parseFloat(document.getElementById("lvedd_lv").value);
  const pw = parseFloat(document.getElementById("pw").value);
    if (isNaN(ivs) || isNaN(lvedd) || isNaN(pw) || ivs <= 0 || lvedd <= 0 || pw <= 0) return;

  const lvmass = 0.8 * 1.04 * ((ivs + lvedd + pw)**3 - lvedd**3);
  const bsa = calculateBSA();
  const lvmassindex = bsa ? lvmass / bsa : ""; // Check if BSA is calculated
  const rwt = (2 * pw) / lvedd;

  document.getElementById("lvmass").textContent = lvmass.toFixed(2);
  document.getElementById("lvmassindex").textContent = lvmassindex ? lvmassindex.toFixed(2) : "";
  document.getElementById("rwt").textContent = rwt.toFixed(2);
}

function calculateTeichholz() {
  const lvedd = parseFloat(document.getElementById("lvedd_teich").value);
  const lvesd = parseFloat(document.getElementById("lvesd_teich").value);
    if (isNaN(lvedd) || isNaN(lvesd) || lvedd <= 0 || lvesd <= 0) return;

  const edv = (7.0 / (2.4 + lvedd)) * lvedd**3;
  const esv = (7.0 / (2.4 + lvesd)) * lvesd**3;
  const ef = ((edv - esv) / edv) * 100;

  document.getElementById("edv_teich").textContent = edv.toFixed(2);
  document.getElementById("esv_teich").textContent = esv.toFixed(2);
  document.getElementById("ef_teich").textContent = ef.toFixed(2);
}

function calculateSimpsonEF() {
  const edv = parseFloat(document.getElementById("edv_simpson").value);
  const esv = parseFloat(document.getElementById("esv_simpson").value);
    if (isNaN(edv) || isNaN(esv) || edv <= 0 || esv <= 0) return;

  const ef = ((edv - esv) / edv) * 100;
  document.getElementById("ef_simpson").textContent = ef.toFixed(2);
}

function calculateLAVI() {
  const laVolume = parseFloat(document.getElementById("la_volume").value);
  const bsa = calculateBSA();
    if (isNaN(laVolume) || laVolume <= 0 || !bsa) return;

  const lavi = laVolume / bsa;
  document.getElementById("lavi").textContent = lavi.toFixed(2);
}

function calculateAll() {
  calculateBSA();
  calculateLVMassAndRWT();
  calculateTeichholz();
  calculateSimpsonEF();
  calculateLAVI();
}
</script>

</body>
</html>
